<%= form_with(model: [:admin, @product], local: true, html: { multipart: true }, 
  class: "max-w-4xl mx-auto bg-white p-10 rounded-2xl shadow-xl border border-gray-200 space-y-10") do |f| %>

  <!-- Error messages -->
  <% if @product.errors.any? %>
    <div class="bg-red-50 border-l-4 border-red-500 p-5 rounded-lg shadow-sm">
      <p class="font-semibold text-red-700 mb-2">‚ö†Ô∏è Please fix the following errors:</p>
      <ul class="list-disc list-inside text-red-600 text-sm space-y-1">
        <% @product.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Form grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    
    <!-- Title -->
    <div class="relative">
      <%= f.text_field :title, 
            class: "peer w-full border-b-2 border-gray-300 bg-transparent px-2 pt-5 pb-2 text-gray-900 placeholder-transparent focus:border-indigo-600 focus:outline-none",
            placeholder: "Enter product title" %>
      <%= f.label :title, 
            class: "absolute left-2 top-2.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-5 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-2.5 peer-focus:text-sm peer-focus:text-indigo-600" %>
    </div>

    <!-- Price -->
    <div class="relative">
      <%= f.number_field :price, step: 0.01,
            class: "peer w-full border-b-2 border-gray-300 bg-transparent px-2 pt-5 pb-2 text-gray-900 placeholder-transparent focus:border-indigo-600 focus:outline-none",
            placeholder: "Enter price" %>
      <%= f.label :price, 
            class: "absolute left-2 top-2.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-5 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-2.5 peer-focus:text-sm peer-focus:text-indigo-600" %>
    </div>

    <!-- Stock -->
    <div class="relative">
      <%= f.number_field :stock, 
            class: "peer w-full border-b-2 border-gray-300 bg-transparent px-2 pt-5 pb-2 text-gray-900 placeholder-transparent focus:border-indigo-600 focus:outline-none",
            placeholder: "Enter stock" %>
      <%= f.label :stock, 
            class: "absolute left-2 top-2.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-5 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-2.5 peer-focus:text-sm peer-focus:text-indigo-600" %>
    </div>

    <!-- Category -->
    <div class="relative">
      <%= f.collection_select :category_id, @categories, :id, :name, { prompt: "Select a category" },
            class: "w-full border-b-2 border-gray-300 bg-transparent px-2 pt-5 pb-2 text-gray-900 focus:border-indigo-600 focus:outline-none" %>
      <%= f.label :category_id, "Category", 
            class: "absolute left-2 top-2.5 text-gray-500 text-sm" %>
    </div>

    <!-- Description -->
    <div class="md:col-span-2 relative">
      <%= f.text_area :description, rows: 4,
            class: "peer w-full border-2 border-gray-300 rounded-lg px-3 pt-5 pb-2 text-gray-900 placeholder-transparent focus:border-indigo-600 focus:ring focus:ring-indigo-100 focus:outline-none",
            placeholder: "Enter description" %>
      <%= f.label :description, 
            class: "absolute left-3 top-2.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-6 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:top-2.5 peer-focus:text-sm peer-focus:text-indigo-600" %>
    </div>

    <!-- Image upload -->
    <div class="md:col-span-2">
      <%= f.label :image, class: "block mb-2 text-gray-700 font-semibold" %>
      <%= f.file_field :image, 
            class: "block w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-indigo-50 file:text-indigo-600 hover:file:bg-indigo-100" %>
    </div>

    <!-- On sale checkbox -->
    <div class="flex items-center space-x-3 md:col-span-2">
      <%= f.check_box :on_sale, class: "h-5 w-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500" %>
      <%= f.label :on_sale, class: "text-gray-700 font-medium" %>
    </div>
  </div>

  <!-- Submit -->
  <div>
    <%= f.submit "üíæ Save Product", 
          class: "w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-xl shadow-md transform transition hover:scale-[1.02]" %>
  </div>
<% end %>
